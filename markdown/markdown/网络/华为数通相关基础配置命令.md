# 路由器
1. 查看系统信息：`display version`
2. 修改系统时间：
	1. 修改时区：`clock timezone local add 08:00:00`
	2. 修改日期时间：`clock datetime 12:00:00 2022.10.02`
	3. 查看新的系统时间：`display clock`
3. 进入系统视图：`system-view`
4. 修改设备名称：`sysname R1`
5. 配置登录信息：`header shell information “Welcome”`
6. 配置console口参数
	1. 进入console口：`user-interface console 0`
	2. 将console接口登录方式设置为密码认证：`authentication-mode password`
	3. 设置超时时间为20分钟0秒：`idle-timeout 20 0`
	4. 查看配置结果：`display this`
7. 配置接口IP地址
	1. 进入某个接口：`interface gigabitethernet 0/0/0`
	2. 为此接口配置IP地址：`ip address 192.168.1.1 255.255.255.0`
	3. 查看配置结果：`display this`
8. 查看接口信息：`display interface gigabitethernet 0/0/0`
9. 查看当前设备上存储的文件：`dir`
10. 管理设备配置文件
	1. 查看保存的配置文件：`display saved-configuration`
	2. 保存当前配置文件：`save`
	3. 查看当前配置信息：`display current-configuration`
	4. 查看下次启动时使用的配置文件：`display starup`
	5. 删除内存中的配置文件：`reset saved-configuration`
11. 重启设备：`reboot`
12. 查看ip路由表的命令：`display ip routing-table`
13. 静态路由配置方式：

```
//关联下一跳ip的方式
ip route-static ip-address mask nexthop-address

//关联出接口的方式
ip route-static ip-address mask interface-type interface-number

//关联出接口和下一跳的方式
ip route-static ip-address mask interface-type interface-number [nexthop-address]

在创建静态路由时，可以同时指定出接口和下一跳。对于不同的出接口类型，也可以只指定出接口或只指定下一跳。
对于点到点接口（如串口），必须指定出接口。
对于广播接口（如以太网接口）和 VT（Virtual-template）接口，必须指定下一跳
```
14. ospf配置方式

```
//创建进程并设置routeid
ospf 1 router-id 1.1.1.1

//表名要配置的区域
area 0

//宣告此区域的网络
network 192.168.1.0 24

//修改优先级
ospf dr-priority 0

//查看ospf配置
display ospf brief

//查看ospf邻居
display ospf peer brief
```
# 交换机
1. 创建vlan10：`vlan 10`
2. 将接口加入到vlan10中

```
//配置接口类型为hybrid，并通过打标的方式允许vlan100，,01，,02通过
interface GigabitEthernet0/0/1
port link-type  hybrid
port hybrid tagged vlan 100 to 102


//配置接口类型为trunk并允许vlan10,11通过
interface GigabitEthernet0/0/1
port link-type trunk
port trunk allow-pass vlan 10 to 11

//配置接口类型为access并设置默认pvid为vlan10
interface GigabitEthernet0/0/2
port link-type access
port default vlan 10

```
3. STP相关配置命令

```
//设置STP模式，此处为STP
stp mode stp

//显示STP摘要
display stp brief

//修改桥优先级
stp priority 0
```
1. 交换机配置IP地址
	1. 配置vlanif10接口：`interface vlanif10`
	2. 定义vlan10管理IP三层交换网关路由：`ip add 192.168.1.1 255.25.255.252`
2. 配置默认网关：`ip route-static 0.0.0.0 0.0.0.0 192.168.1.1`
3. vlan的查看：
	1. 全局查看vlan信息：`dis vlan`
	2. 查看端口与vlan对应关系：`dis port vlan`

# ACL和NAT
```
//创建ACL
acl 3000

//创建规则
rule 5 deny ip source 192.168.1.1 0destination 192.168.2.1 0

//讲规则应用到接口，此处是应用到g0/0/1接口的入方向
int g0/0/1
traffic-filter inbound acl 3000

//以下是EasyIP的配置，原理是创建ACL规则和一条缺省路由，此路由的下一跳是网络出口

//创建ACL，并编辑规则：使所有192.168.1.0/24网段的PC都能通过
acl 2000
rule 5 permit source 192.168.1.0 0.0.0.255

//应用上面的规则到内网路由器出外网的接口
interface g0/0/0
nat outbound 2000
ip route-static 0.0.0.0 0.0.0.0 12.1.1.2

//显示NAT会话
display nat session all
```